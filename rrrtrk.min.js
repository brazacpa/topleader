function getAllUrlParams(){const t={},e=location.search.substring(1);return e?(e.split("&").forEach((e=>{const[n,o]=e.split("=").map(decodeURIComponent);n&&(t[n]=o||null)})),t):t}function addParamToCurrentUrl(){const t=getAllUrlParams(),e=new URL(window.location),n=new URLSearchParams(e.search);const o=(t.utm_source||"").toLowerCase(),r=t.ts_click_id??"";if(r&&o&&(a=r,![/^\{.*\}$/,/^\{\{.*\}\}$/,/^__.*__$/].some((t=>t.test(a))))){let t=[];switch(o){case"taboola":t=["tblclid"];break;case"outbrain":t=["ob_click_id"];break;case"facebook":t=["fbclid"];break;case"newsbreak":t=["nb_cid"];break;default:(o.includes("google")||o.includes("youtube"))&&(t=["gclid"]);break}for(const e of t)n.has(e)||n.set(e,r);e.search=n.toString(),window.history.replaceState({},"",e.toString())}var a;return n}document.addEventListener("DOMContentLoaded",(()=>{addParamToCurrentUrl()})),function(){const t="localhost"===window.location.hostname,e=new URL(window.location).pathname.split("/").filter((t=>t.length>0));const n=function(t){return t.split(".").slice(-2).join(".")}(window.location.hostname),o=`track.${n}`;window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('a[href*="krcp5.ttrk.io"]').forEach((t=>{const e=t.getAttribute("href");if(e){const n=e.replace(/krcp5\.ttrk\.io/gi,o);t.setAttribute("href",n)}}))}));const r=function(){if(e.length<3)return null;const n=t?e[4]:e[0],o=t?e[5]:e[1],r=t?e[6]:e[2],[a,c]=(r||"").split("-");return n&&o&&a&&c?{product_slug:n,adv_type:o,adv_id:a,adv_code:c}:null}();if(!r)return;const a=(c="rtkcmpid",new URLSearchParams(window.location.search).get(c)||localStorage.getItem("rtkcmpid"+r.adv_id));var c;if(!a)return;if(!/^[a-z0-9]{24,36}$/i.test(a))return;localStorage.setItem("rtkcmpid"+r.adv_id,a);let i="pre-vsl"===r.adv_type?"pretrack.js":"track.js";const s=document.createElement("script");s.src=`https://${o}/${i}`,s.async=!0,window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(s)}))}();